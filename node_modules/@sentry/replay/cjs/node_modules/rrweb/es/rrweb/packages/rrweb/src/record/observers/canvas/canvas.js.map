{"version":3,"file":"canvas.js","sources":["../../../../../../../../../../../../../../../node_modules/rrweb/es/rrweb/packages/rrweb/src/record/observers/canvas/canvas.js"],"sourcesContent":["import { __spreadArray, __read } from '../../../../ext/tslib/tslib.es6.js';\nimport { patch, isBlocked } from '../../../utils.js';\n\nfunction initCanvasContextObserver(win, blockClass) {\n    var handlers = [];\n    try {\n        var restoreHandler = patch(win.HTMLCanvasElement.prototype, 'getContext', function (original) {\n            return function (contextType) {\n                var args = [];\n                for (var _i = 1; _i < arguments.length; _i++) {\n                    args[_i - 1] = arguments[_i];\n                }\n                if (!isBlocked(this, blockClass)) {\n                    if (!('__context' in this))\n                        this.__context = contextType;\n                }\n                return original.apply(this, __spreadArray([contextType], __read(args), false));\n            };\n        });\n        handlers.push(restoreHandler);\n    }\n    catch (_a) {\n        console.error('failed to patch HTMLCanvasElement.prototype.getContext');\n    }\n    return function () {\n        handlers.forEach(function (h) { return h(); });\n    };\n}\n\nexport default initCanvasContextObserver;\n"],"names":["patch","isBlocked","__spreadArray","__read"],"mappings":";;;;;AAGA,SAAA,yBAAA,CAAA,GAAA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,QAAA,GAAA,EAAA,CAAA;AACA,IAAA,IAAA;AACA,QAAA,IAAA,cAAA,GAAAA,WAAA,CAAA,GAAA,CAAA,iBAAA,CAAA,SAAA,EAAA,YAAA,EAAA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,UAAA,WAAA,EAAA;AACA,gBAAA,IAAA,IAAA,GAAA,EAAA,CAAA;AACA,gBAAA,KAAA,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,SAAA,CAAA,MAAA,EAAA,EAAA,EAAA,EAAA;AACA,oBAAA,IAAA,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA,CAAA;AACA,iBAAA;AACA,gBAAA,IAAA,CAAAC,eAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AACA,oBAAA,IAAA,EAAA,WAAA,IAAA,IAAA,CAAA;AACA,wBAAA,IAAA,CAAA,SAAA,GAAA,WAAA,CAAA;AACA,iBAAA;AACA,gBAAA,OAAA,QAAA,CAAA,KAAA,CAAA,IAAA,EAAAC,uBAAA,CAAA,CAAA,WAAA,CAAA,EAAAC,gBAAA,CAAA,IAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,CAAA;AACA,SAAA,CAAA,CAAA;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,cAAA,CAAA,CAAA;AACA,KAAA;AACA,IAAA,OAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,wDAAA,CAAA,CAAA;AACA,KAAA;AACA,IAAA,OAAA,YAAA;AACA,QAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA,EAAA,OAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA,KAAA,CAAA;AACA;;;;"}