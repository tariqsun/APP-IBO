{"version":3,"file":"unpack.js","sources":["../../../../../../../../../../../../../node_modules/rrweb/es/rrweb/packages/rrweb/src/packer/unpack.js"],"sourcesContent":["import { strFromU8, unzlibSync, strToU8 } from '../../../../ext/fflate/esm/browser.js';\nimport { MARK } from './base.js';\n\nvar unpack = function (raw) {\n    if (typeof raw !== 'string') {\n        return raw;\n    }\n    try {\n        var e = JSON.parse(raw);\n        if (e.timestamp) {\n            return e;\n        }\n    }\n    catch (error) {\n    }\n    try {\n        var e = JSON.parse(strFromU8(unzlibSync(strToU8(raw, true))));\n        if (e.v === MARK) {\n            return e;\n        }\n        throw new Error(\"These events were packed with packer \".concat(e.v, \" which is incompatible with current packer \").concat(MARK, \".\"));\n    }\n    catch (error) {\n        console.error(error);\n        throw new Error('Unknown data format.');\n    }\n};\n\nexport { unpack };\n"],"names":["strFromU8","unzlibSync","strToU8","MARK"],"mappings":";;;;;AAGA,IAAA,MAAA,GAAA,UAAA,GAAA,EAAA;AACA,IAAA,IAAA,OAAA,GAAA,KAAA,QAAA,EAAA;AACA,QAAA,OAAA,GAAA,CAAA;AACA,KAAA;AACA,IAAA,IAAA;AACA,QAAA,IAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA;AACA,QAAA,IAAA,CAAA,CAAA,SAAA,EAAA;AACA,YAAA,OAAA,CAAA,CAAA;AACA,SAAA;AACA,KAAA;AACA,IAAA,OAAA,KAAA,EAAA;AACA,KAAA;AACA,IAAA,IAAA;AACA,QAAA,IAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAAA,iBAAA,CAAAC,kBAAA,CAAAC,eAAA,CAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACA,QAAA,IAAA,CAAA,CAAA,CAAA,KAAAC,SAAA,EAAA;AACA,YAAA,OAAA,CAAA,CAAA;AACA,SAAA;AACA,QAAA,MAAA,IAAA,KAAA,CAAA,uCAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,EAAA,6CAAA,CAAA,CAAA,MAAA,CAAAA,SAAA,EAAA,GAAA,CAAA,CAAA,CAAA;AACA,KAAA;AACA,IAAA,OAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,CAAA;AACA,QAAA,MAAA,IAAA,KAAA,CAAA,sBAAA,CAAA,CAAA;AACA,KAAA;AACA;;;;"}