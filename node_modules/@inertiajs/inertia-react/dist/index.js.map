{"version":3,"file":"index.js","sources":["../src/useRemember.js","../src/PageContext.js","../src/HeadContext.js","../src/App.js","../src/Head.js","../src/Link.js","../src/createInertiaApp.js","../src/useForm.js","../src/usePage.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { Inertia } from '@inertiajs/inertia'\n\nexport default function useRemember(initialState, key) {\n  const [state, setState] = useState(() => {\n    const restored = Inertia.restore(key)\n\n    return restored !== undefined ? restored : initialState\n  })\n\n  useEffect(() => {\n    Inertia.remember(state, key)\n  }, [state, key])\n\n  return [state, setState]\n}\n\nexport function useRememberedState(initialState, key) {\n  console.warn('The \"useRememberedState\" hook has been deprecated and will be removed in a future release. Use \"useRemember\" instead.')\n  return useRemember(initialState, key)\n}\n","import { createContext } from 'react'\n\nconst pageContext = createContext()\npageContext.displayName = 'InertiaPageContext'\n\nexport default pageContext\n","import { createContext } from 'react'\n\nconst headContext = createContext()\nheadContext.displayName = 'InertiaHeadContext'\n\nexport default headContext\n","import HeadContext from './HeadContext'\nimport PageContext from './PageContext'\nimport { createHeadManager, Inertia } from '@inertiajs/inertia'\nimport { createElement, useEffect, useMemo, useState } from 'react'\n\nexport default function App({\n  children,\n  initialPage,\n  initialComponent,\n  resolveComponent,\n  titleCallback,\n  onHeadUpdate,\n}) {\n  const [current, setCurrent] = useState({\n    component: initialComponent || null,\n    page: initialPage,\n    key: null,\n  })\n\n  const headManager = useMemo(() => {\n    return createHeadManager(\n      typeof window === 'undefined',\n      titleCallback || (title => title),\n      onHeadUpdate || (() => {})\n    )\n  }, [])\n\n  useEffect(() => {\n    Inertia.init({\n      initialPage,\n      resolveComponent,\n      swapComponent: async ({ component, page, preserveState }) => {\n        setCurrent(current => ({\n          component,\n          page,\n          key: preserveState ? current.key : Date.now(),\n        }))\n      },\n    })\n  }, [])\n\n  if (!current.component) {\n    return createElement(HeadContext.Provider, { value: headManager }, createElement(PageContext.Provider, { value: current.page }, null))\n  }\n\n  const renderChildren = children || (({ Component, props, key }) => {\n    const child = createElement(Component, { key, ...props })\n\n    if (typeof Component.layout === 'function') {\n      return Component.layout(child)\n    }\n\n    if (Array.isArray(Component.layout)) {\n      return Component.layout\n        .concat(child)\n        .reverse()\n        .reduce((children, Layout) => createElement(Layout, { children, ...props }))\n    }\n\n    return child\n  })\n\n  return createElement(HeadContext.Provider, { value: headManager }, createElement(PageContext.Provider, { value: current.page }, renderChildren({\n    Component: current.component,\n    key: current.key,\n    props: current.page.props,\n  })))\n}\n\nApp.displayName = 'Inertia'\n","import HeadContext from './HeadContext'\nimport React, { useContext, useEffect, useMemo } from 'react'\n\nexport default function InertiaHead({ children, title }) {\n  const headManager = useContext(HeadContext)\n  const provider = useMemo(() => headManager.createProvider(), [headManager])\n\n  useEffect(() => {\n    return () => { provider.disconnect() }\n  }, [provider])\n\n  function isUnaryTag(node) {\n    return [\n      'area', 'base', 'br', 'col', 'embed', 'hr', 'img',\n      'input', 'keygen', 'link', 'meta', 'param', 'source',\n      'track', 'wbr',\n    ].indexOf(node.type) > -1\n  }\n\n  function renderTagStart(node) {\n    const attrs = Object.keys(node.props).reduce((carry, name) => {\n      if (['head-key', 'children', 'dangerouslySetInnerHTML'].includes(name)) {\n        return carry\n      }\n      const value = node.props[name]\n      if (value === '') {\n        return carry + ` ${name}`\n      } else {\n        return carry + ` ${name}=\"${value}\"`\n      }\n    }, '')\n    return `<${node.type}${attrs}>`\n  }\n\n  function renderTagChildren(node) {\n    return typeof node.props.children === 'string'\n      ? node.props.children\n      : node.props.children.reduce((html, child) => html + renderTag(child), '')\n  }\n\n  function renderTag(node) {\n    let html = renderTagStart(node)\n    if (node.props.children) {\n      html += renderTagChildren(node)\n    }\n    if (node.props.dangerouslySetInnerHTML) {\n      html += node.props.dangerouslySetInnerHTML.__html\n    }\n    if (!isUnaryTag(node)) {\n      html += `</${node.type}>`\n    }\n    return html\n  }\n\n  function ensureNodeHasInertiaProp(node) {\n    return React.cloneElement(node, {\n      inertia: node.props['head-key'] !== undefined ? node.props['head-key'] : '',\n    })\n  }\n\n  function renderNode(node) {\n    return renderTag(ensureNodeHasInertiaProp(node))\n  }\n\n  function renderNodes(nodes) {\n    const computed = (Array.isArray(nodes) ? nodes : [nodes]).filter(node => node).map(node => renderNode(node))\n    if (title && !computed.find(tag => tag.startsWith('<title'))) {\n      computed.push(`<title inertia>${title}</title>`)\n    }\n    return computed\n  }\n\n  provider.update(renderNodes(children))\n\n  return null\n}\n","import { createElement, forwardRef, useCallback } from 'react'\nimport { Inertia, mergeDataIntoQueryString, shouldIntercept } from '@inertiajs/inertia'\n\nconst noop = () => undefined\n\nexport default forwardRef(function InertiaLink({\n  children,\n  as = 'a',\n  data = {},\n  href,\n  method = 'get',\n  preserveScroll = false,\n  preserveState = null,\n  replace = false,\n  only = [],\n  headers = {},\n  queryStringArrayFormat = 'brackets',\n  onClick = noop,\n  onCancelToken = noop,\n  onBefore = noop,\n  onStart = noop,\n  onProgress = noop,\n  onFinish = noop,\n  onCancel = noop,\n  onSuccess = noop,\n  onError = noop,\n  ...props\n}, ref) {\n  const visit = useCallback(\n    (event) => {\n      onClick(event)\n\n      if (shouldIntercept(event)) {\n        event.preventDefault()\n\n        Inertia.visit(href, {\n          data,\n          method,\n          preserveScroll,\n          preserveState: preserveState ?? (method !== 'get'),\n          replace,\n          only,\n          headers,\n          onCancelToken,\n          onBefore,\n          onStart,\n          onProgress,\n          onFinish,\n          onCancel,\n          onSuccess,\n          onError,\n        })\n      }\n    },\n    [\n      data,\n      href,\n      method,\n      preserveScroll,\n      preserveState,\n      replace,\n      only,\n      headers,\n      onClick,\n      onCancelToken,\n      onBefore,\n      onStart,\n      onProgress,\n      onFinish,\n      onCancel,\n      onSuccess,\n      onError,\n    ],\n  )\n\n  as = as.toLowerCase()\n  method = method.toLowerCase()\n  const [_href, _data] = mergeDataIntoQueryString(method, href || '', data, queryStringArrayFormat)\n  href = _href\n  data = _data\n\n  if (as === 'a' && method !== 'get') {\n    console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes \"Open Link in New Tab/Window\" accessibility issues.\\n\\nPlease specify a more appropriate element using the \"as\" attribute. For example:\\n\\n<Link href=\"${href}\" method=\"${method}\" as=\"button\">...</Link>`)\n  }\n\n  return createElement(as, {\n    ...props,\n    ...as === 'a' ? { href } : {},\n    ref,\n    onClick: visit,\n  }, children)\n})\n","import App from './App'\nimport { createElement } from 'react'\n\nexport default async function createInertiaApp({ id = 'app', resolve, setup, title, page, render }) {\n  const isServer = typeof window === 'undefined'\n  const el = isServer ? null : document.getElementById(id)\n  const initialPage = page || JSON.parse(el.dataset.page)\n  const resolveComponent = name => Promise.resolve(resolve(name)).then(module => module.default || module)\n\n  let head = []\n\n  const reactApp = await resolveComponent(initialPage.component).then(initialComponent => {\n    return setup({\n      el,\n      App,\n      props: {\n        initialPage,\n        initialComponent,\n        resolveComponent,\n        titleCallback: title,\n        onHeadUpdate: isServer ? elements => (head = elements) : null,\n      },\n    })\n  })\n\n  if (isServer) {\n    const body = await render(\n      createElement('div', {\n        id,\n        'data-page': JSON.stringify(initialPage),\n      }, reactApp)\n    )\n\n    return { head, body }\n  }\n}\n","import isEqual from 'lodash.isequal'\nimport useRemember from './useRemember'\nimport { Inertia } from '@inertiajs/inertia'\nimport { useCallback, useEffect, useRef, useState } from 'react'\n\nexport default function useForm(...args) {\n  const isMounted = useRef(null)\n  const rememberKey = typeof args[0] === 'string' ? args[0] : null\n  const [defaults, setDefaults] = useState((typeof args[0] === 'string' ? args[1] : args[0]) || {})\n  const cancelToken = useRef(null)\n  const recentlySuccessfulTimeoutId = useRef(null)\n  const [data, setData] = rememberKey ? useRemember(defaults, `${rememberKey}:data`) : useState(defaults)\n  const [errors, setErrors] = rememberKey ? useRemember({}, `${rememberKey}:errors`) : useState({})\n  const [hasErrors, setHasErrors] = useState(false)\n  const [processing, setProcessing] = useState(false)\n  const [progress, setProgress] = useState(null)\n  const [wasSuccessful, setWasSuccessful] = useState(false)\n  const [recentlySuccessful, setRecentlySuccessful] = useState(false)\n  let transform = (data) => data\n\n  useEffect(() => {\n    isMounted.current = true\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n\n  const submit = useCallback(\n    (method, url, options = {}) => {\n      const _options = {\n        ...options,\n        onCancelToken: (token) => {\n          cancelToken.current = token\n\n          if (options.onCancelToken) {\n            return options.onCancelToken(token)\n          }\n        },\n        onBefore: (visit) => {\n          setWasSuccessful(false)\n          setRecentlySuccessful(false)\n          clearTimeout(recentlySuccessfulTimeoutId.current)\n\n          if (options.onBefore) {\n            return options.onBefore(visit)\n          }\n        },\n        onStart: (visit) => {\n          setProcessing(true)\n\n          if (options.onStart) {\n            return options.onStart(visit)\n          }\n        },\n        onProgress: (event) => {\n          setProgress(event)\n\n          if (options.onProgress) {\n            return options.onProgress(event)\n          }\n        },\n        onSuccess: (page) => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n            setErrors({})\n            setHasErrors(false)\n            setWasSuccessful(true)\n            setRecentlySuccessful(true)\n            recentlySuccessfulTimeoutId.current = setTimeout(() => {\n              if (isMounted.current) {\n                setRecentlySuccessful(false)\n              }\n            }, 2000)\n          }\n\n          if (options.onSuccess) {\n            return options.onSuccess(page)\n          }\n        },\n        onError: (errors) => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n            setErrors(errors)\n            setHasErrors(true)\n          }\n\n          if (options.onError) {\n            return options.onError(errors)\n          }\n        },\n        onCancel: () => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n          }\n\n          if (options.onCancel) {\n            return options.onCancel()\n          }\n        },\n        onFinish: () => {\n          if (isMounted.current) {\n            setProcessing(false)\n            setProgress(null)\n          }\n\n          cancelToken.current = null\n\n          if (options.onFinish) {\n            return options.onFinish()\n          }\n        },\n      }\n\n      if (method === 'delete') {\n        Inertia.delete(url, { ..._options, data: transform(data) })\n      } else {\n        Inertia[method](url, transform(data), _options)\n      }\n    },\n    [data, setErrors],\n  )\n\n  return {\n    data,\n    setData(key, value) {\n      if (typeof key === 'string') {\n        setData({ ...data, [key]: value })\n      } else if (typeof key === 'function') {\n        setData(data => key(data))\n      } else {\n        setData(key)\n      }\n    },\n    isDirty: !isEqual(data, defaults),\n    errors,\n    hasErrors,\n    processing,\n    progress,\n    wasSuccessful,\n    recentlySuccessful,\n    transform(callback) {\n      transform = callback\n    },\n    setDefaults(key, value) {\n      if (typeof key === 'undefined') {\n        setDefaults(() => data)\n      } else {\n        setDefaults(defaults => ({\n          ... defaults,\n          ... (value ? { [key]: value } : key),\n        }))\n      }\n    },\n    reset(...fields) {\n      if (fields.length === 0) {\n        setData(defaults)\n      } else {\n        setData(\n          Object.keys(defaults)\n            .filter((key) => fields.includes(key))\n            .reduce((carry, key) => {\n              carry[key] = defaults[key]\n              return carry\n            }, { ...data }),\n        )\n      }\n    },\n    setError(key, value) {\n      setErrors(errors => {\n        const newErrors = {\n          ... errors,\n          ... (value ? { [key]: value } : key),\n        }\n        setHasErrors(Object.keys(newErrors).length > 0)\n        return newErrors\n      })\n    },\n    clearErrors(...fields) {\n      setErrors(errors => {\n        const newErrors = Object.keys(errors).reduce(\n          (carry, field) => ({\n            ...carry,\n            ...(fields.length > 0 && !fields.includes(field) ? { [field]: errors[field] } : {}),\n          }),\n          {},\n        )\n        setHasErrors(Object.keys(newErrors).length > 0)\n        return newErrors\n      })\n    },\n    submit,\n    get(url, options) {\n      submit('get', url, options)\n    },\n    post(url, options) {\n      submit('post', url, options)\n    },\n    put(url, options) {\n      submit('put', url, options)\n    },\n    patch(url, options) {\n      submit('patch', url, options)\n    },\n    delete(url, options) {\n      submit('delete', url, options)\n    },\n    cancel() {\n      if (cancelToken.current) {\n        cancelToken.current.cancel()\n      }\n    },\n  }\n}\n","import { useContext } from 'react'\nimport PageContext from './PageContext'\n\nexport default function usePage() {\n  const page = useContext(PageContext)\n\n  if (!page) {\n    throw new Error('usePage must be used within the Inertia component')\n  }\n\n  return page\n}\n"],"names":["useRemember","initialState","key","useState","restored","Inertia","restore","undefined","state","setState","useEffect","remember","pageContext","createContext","displayName","headContext","App","children","initialPage","resolveComponent","titleCallback","onHeadUpdate","component","initialComponent","page","current","setCurrent","headManager","useMemo","createHeadManager","window","title","init","swapComponent","preserveState","Date","now","createElement","HeadContext","Provider","value","PageContext","renderChildren","Component","props","child","layout","Array","isArray","concat","reverse","reduce","Layout","InertiaHead","nodes","computed","useContext","provider","createProvider","disconnect","update","filter","node","map","renderTag","html","attrs","Object","keys","carry","name","includes","type","renderTagStart","renderTagChildren","dangerouslySetInnerHTML","__html","indexOf","isUnaryTag","React","cloneElement","inertia","ensureNodeHasInertiaProp","renderNode","find","tag","startsWith","push","noop","forwardRef","ref","as","data","href","method","preserveScroll","replace","only","headers","queryStringArrayFormat","onClick","onCancelToken","onBefore","onStart","onProgress","onFinish","onCancel","onSuccess","onError","visit","useCallback","event","shouldIntercept","preventDefault","toLowerCase","mergeDataIntoQueryString","console","warn","id","resolve","setup","render","isServer","el","document","getElementById","JSON","parse","dataset","Promise","then","module","head","elements","reactApp","data-page","stringify","body","args","isMounted","useRef","rememberKey","defaults","setDefaults","cancelToken","recentlySuccessfulTimeoutId","setData","errors","setErrors","hasErrors","setHasErrors","processing","setProcessing","progress","setProgress","wasSuccessful","setWasSuccessful","recentlySuccessful","setRecentlySuccessful","transform","submit","url","options","_options","token","clearTimeout","setTimeout","isDirty","isEqual","callback","reset","fields","length","setError","newErrors","clearErrors","field","get","post","put","patch","cancel","Error"],"mappings":"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"}